<!DOCTYPE html>
<html>
<head>
<script type="text/javascript" src="../js/jquery-3.2.0.min.js"></script>
<script type="text/javascript">
/*
	var peopleJSON = '[{"name":"Jim", "email":"germ@badgrape.net"},{"name":"Emily", "email":"brain@badgrape.net"},{"name":"Jake", "email":"dirtyflash@badgrape.net"}]';

	// Convert JSON string to JavaScript Object
	var peopleJS = $.parseJSON(peopleJSON);
	console.log(peopleJS);      // Dump all data of the Object in the console
	$(function() {
		$("#test").text(peopleJSON);
	});
*/
function talkToServer() {

			// Ajax with jQuery to talk to the server
			// Send some data in JSON format (httpRequest)
			// Wait for the httpResponse (JSON format)
			var username = $("#username").val();
			var email = $("#email").val();
			var password = $("#password").val();

			// String to create JSON object
			var text =  '{' +
						   '"username":"' + username + '",' +
						   '"email":"' + email + '",' +
						   '"password":"' + password + '"' +
						'}';

			var jsonData = JSON.parse(text);

			$.post("test.php", JSON.stringify(jsonData),
				function(data, status){
					$("#usersJson").html(data);

					var jsonData = JSON.parse(data);
					console.log(jsonData);
					var users = [];
					$.each(jsonData, function(index, value) {
						users.push("<p>" + value['name'] + ": " + value['email'] + "</p>");
					});
					$("#users").html(users.join(""));
				});

		}

</script>
</head>
<body>

<form action="javascript:talkToServer()" method="post">
	<input type="text" id="username" name="username" placeholder="Username" />
	<input type="email" id="email" name="email" placeholder="Email" />
	<input type="password" id="password" name="password" placeholder="Password" />
	<input type="submit" />
</form>

<p id="usersJson"></p>
<div id="users"></div>

</body>
</html>
